<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏™‡∏ß‡∏¢‡πÜ -->
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --primary: #2563eb;
      --primary-soft: #dbeafe;
      --accent: #22c55e;
      --danger: #ef4444;
      --bg: #f3f4f6;
      --text-main: #111827;
      --text-soft: #6b7280;
      --border: #e5e7eb;
      --card-bg: #ffffff;
      --yellow: #fbbf24;
    }

    * {
      box-sizing: border-box;
      font-family: "Prompt", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text-main);
    }

    .page-wrapper {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: #111827;
      color: white;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 8px rgba(0,0,0,0.25);
      position: sticky;
      top: 0;
      z-index: 20;
      gap: 8px;
    }

    header .title-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    header .title-main {
      font-size: 20px;
      font-weight: 600;
    }

    header .title-sub {
      font-size: 12px;
      color: #9ca3af;
    }

    .badge-connection {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: rgba(15, 118, 110, 0.15);
      color: #a5f3fc;
    }

    .badge-connection.offline {
      background: rgba(127, 29, 29, 0.4);
      color: #fecaca;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 8px rgba(34, 197, 94, 0.85);
    }

    .badge-connection.offline .dot {
      background: #f97373;
      box-shadow: 0 0 8px rgba(248, 113, 113, 0.8);
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    button,
    .btn {
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 14px;
      padding: 8px 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.1s ease, opacity 0.1s ease;
      white-space: nowrap;
    }

    button:disabled,
    .btn:disabled {
      opacity: 0.7;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    button:active:not(:disabled),
    .btn:active:not(:disabled) {
      transform: translateY(1px) scale(0.99);
      box-shadow: none;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.35);
    }

    .btn-outline {
      background: transparent;
      color: white;
      border: 1px solid rgba(156, 163, 175, 0.8);
    }

    .btn-danger-outline {
      background: transparent;
      color: #fecaca;
      border: 1px solid rgba(248, 113, 113, 0.7);
    }

    .btn-success {
      background: #22c55e;
      color: white;
      box-shadow: 0 3px 10px rgba(34,197,94,0.4);
    }

    .btn-secondary {
      background: white;
      color: #111827;
      border: 1px solid var(--border);
    }

    main {
      flex: 1;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 7fr) minmax(260px, 4fr);
      gap: 18px;
    }

    @media (max-width: 900px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 18px 18px 16px;
      box-shadow: 0 1px 4px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-title span.icon {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      background: var(--primary-soft);
      color: var(--primary);
    }

    .card-subtitle {
      font-size: 12px;
      color: var(--text-soft);
    }

    .camera-card {
      margin-bottom: 16px;
    }

    .camera-box {
      border-radius: 16px;
      border: 1px dashed #cbd5f5;
      background: radial-gradient(circle at top left, #eff6ff, #e5e7eb);
      height: 270px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .camera-placeholder {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      color: #6b7280;
    }

    .camera-placeholder .icon {
      width: 54px;
      height: 54px;
      border-radius: 999px;
      border: 2px solid #9ca3af;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 26px;
    }

    .camera-footer {
      margin-top: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    select {
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      outline: none;
      font-size: 13px;
      background: white;
      min-width: 230px;
    }

    .pill {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #f9fafb;
      color: #6b7280;
    }

    .pill strong {
      color: #111827;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    thead {
      background: #f3f4f6;
    }

    th, td {
      padding: 7px 8px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
      white-space: nowrap;
    }

    th {
      font-weight: 500;
      color: #374151;
      font-size: 12px;
    }

    tbody tr:nth-child(even) {
      background: #f9fafb;
    }

    .text-right {
      text-align: right;
    }

    .badge-status {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      display: inline-block;
    }

    .badge-normal {
      background: #dcfce7;
      color: #166534;
    }

    .badge-late {
      background: #fee2e2;
      color: #b91c1c;
    }

    .badge-absent {
      background: #ffe4e6;
      color: #be123c;
    }

    .badge-other {
      background: #fef3c7;
      color: #92400e;
    }

    .latest-box {
      font-size: 13px;
    }

    .latest-label {
      color: var(--text-soft);
      font-size: 12px;
      margin-bottom: 4px;
    }

    .latest-content {
      padding: 8px 10px;
      border-radius: 12px;
      background: #f9fafb;
      border: 1px dashed #e5e7eb;
    }

    .latest-row {
      display: flex;
      gap: 8px;
      font-size: 13px;
      flex-wrap: wrap;
    }

    .latest-row span.label {
      min-width: 70px;
      color: #6b7280;
    }

    .text-muted {
      color: #9ca3af;
    }

    .mt-8 { margin-top: 8px; }
    .mt-12 { margin-top: 12px; }

    .text-sm { font-size: 12px; }

    .flex {
      display: flex;
    }

    .flex-between {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .gap-6 {
      gap: 6px;
    }

    .scroll-x {
      overflow-x: auto;
    }

    /* ---------- Modal ---------- */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.35);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
      padding: 10px;
    }

    .modal-backdrop.show {
      display: flex;
    }

    .modal {
      max-width: 420px;
      width: 100%;
      background: white;
      border-radius: 18px;
      box-shadow: 0 10px 25px rgba(15,23,42,0.3);
      padding: 18px 18px 16px;
      animation: pop 0.16s ease-out;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 8px;
    }

    .modal-title {
      font-size: 16px;
      font-weight: 600;
    }

    /* ‡∏õ‡∏∏‡πà‡∏° X ‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Å‡∏î‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô */
    .modal-close {
      background: transparent;
      border-radius: 999px;
      width: 34px;
      height: 34px;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 22px;
      color: #4b5563;
      transition: background 0.1s ease, transform 0.08s ease;
    }

    .modal-close:hover {
      background: #e5e7eb;
      transform: scale(1.02);
    }

    .form-group {
      margin-bottom: 10px;
    }

    .form-label {
      font-size: 13px;
      margin-bottom: 3px;
      color: #374151;
    }

    .input,
    textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      padding: 7px 9px;
      font-size: 13px;
      outline: none;
      resize: vertical;
      min-height: 32px;
    }

    .input:focus,
    textarea:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 1px rgba(37,99,235,0.3);
    }

    textarea {
      min-height: 70px;
    }

    .helper {
      font-size: 11px;
      color: #6b7280;
    }

    .modal-actions {
      margin-top: 12px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
      flex-wrap: wrap;
    }

    .error-text {
      font-size: 12px;
      color: var(--danger);
      margin-top: 4px;
    }

    .success-text {
      font-size: 12px;
      color: #16a34a;
      margin-top: 4px;
    }

    @keyframes pop {
      from {
        transform: translateY(8px) scale(0.97);
        opacity: 0;
      }
      to {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    /* -------- Mobile tweak ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡∏∞ PC -------- */
    @media (max-width: 640px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }

      main {
        padding: 12px;
      }

      .layout {
        gap: 12px;
      }

      .camera-box {
        height: 220px;
      }

      .modal {
        max-width: 100%;
        border-radius: 14px;
        padding: 16px 14px 14px;
      }

      .header-actions {
        justify-content: flex-start;
      }
    }
  </style>
</head>
<body>
<div class="page-wrapper">

  <!-- HEADER -->
  <header>
    <div class="title-block">
      <div class="title-main">‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</div>
      <div class="title-sub">
        ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ 4 ‡∏ä‡πà‡∏ß‡∏á) | <span id="apiUrlDisplay" class="text-sm"></span>
      </div>
    </div>
    <div class="header-actions">
      <div id="connectionBadge" class="badge-connection offline">
        <span class="dot"></span>
        <span id="connectionText">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</span>
      </div>

      <button class="btn btn-outline" id="btnSetUrl">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL</button>
      <button class="btn btn-danger-outline" id="btnResetUrl">Reset URL</button>
      <button class="btn btn-primary" id="btnGoAdmin">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà / HR</button>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <div class="layout">

      <!-- LEFT COLUMN -->
      <div>
        <!-- Camera / Main action card -->
        <div class="card camera-card">
          <div class="card-header">
            <div>
              <div class="card-title">
                <span class="icon">üì∑</span>
                <span>‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á (‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤)</span>
              </div>
              <div class="card-subtitle">
                ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏° "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠" ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡πÅ‡∏Å‡∏ô‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á
              </div>
            </div>
            <div class="flex gap-6" style="flex-wrap:wrap;">
              <button class="btn btn-success" id="btnOpenManualModal">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠</button>
              <button class="btn btn-secondary" id="btnOpenCheckToday">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
            </div>
          </div>

          <div class="camera-box">
            <div class="camera-placeholder">
              <div class="icon">üì∏</div>
              <div>‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà</div>
              <div class="text-muted text-sm">‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡πÅ‡∏Å‡∏ô‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</div>
            </div>
          </div>

          <div class="camera-footer">
            <div class="flex gap-6" style="align-items:center; flex-wrap:wrap;">
              <select id="cameraSelect" disabled>
                <option>‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á</option>
              </select>
              <button class="btn btn-primary" id="btnStartScan" disabled>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πÅ‡∏Å‡∏ô</button>
            </div>
            <div class="pill">
              ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡πÄ‡∏ß‡∏•‡∏≤: <strong>‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ä‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô 08:00</strong> | ‡∏û‡∏±‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô <strong>1 ‡∏ä‡∏°.</strong> | ‡πÄ‡∏•‡∏¥‡∏Å‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á <strong>17:00</strong>
            </div>
          </div>
        </div>

        <!-- Today summary -->
        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">
                <span class="icon">üìä</span>
                ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ (‡∏¢‡πà‡∏≠)
              </div>
              <div class="card-subtitle">
                ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á 4 ‡∏ä‡πà‡∏ß‡∏á‡∏Ç‡∏≠‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
              </div>
            </div>
            <button class="btn btn-secondary" id="btnRefreshToday">‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
          </div>

          <div class="scroll-x">
            <table>
              <thead>
              <tr>
                <th>‡∏£‡∏´‡∏±‡∏™</th>
                <th>‡∏ä‡∏∑‡πà‡∏≠</th>
                <th>‡πÅ‡∏ú‡∏ô‡∏Å</th>
                <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö</th>
                <th>‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ä‡πâ‡∏≤</th>
                <th>‡∏≠‡∏≠‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á</th>
                <th>‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á</th>
                <th>‡∏≠‡∏≠‡∏Å‡πÄ‡∏¢‡πá‡∏ô</th>
                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
              </tr>
              </thead>
              <tbody id="todaySummaryBody">
              <tr>
                <td colspan="9" style="text-align:center; padding:12px 8px;" class="text-muted">
                  ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
                </td>
              </tr>
              </tbody>
            </table>
          </div>

          <div class="mt-8 text-sm text-muted">
            * ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏ä‡∏µ‡∏ï <strong>Logs</strong> ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏ñ‡πâ‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"
          </div>
        </div>
      </div>

      <!-- RIGHT COLUMN -->
      <div>

        <!-- Latest log -->
        <div class="card">
          <div class="card-header">
            <div class="card-title">
              <span class="icon">‚è±</span>
              ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
            </div>
          </div>

          <div id="latestBox" class="latest-box">
            <div class="latest-label">
              ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏ä‡πà‡∏ß‡∏¢‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß)
            </div>
            <div class="latest-content" id="latestContent">
              <div class="text-muted text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ</div>
            </div>
          </div>
        </div>

        <!-- Helper / tip -->
        <div class="card" style="margin-top:16px;">
          <div class="card-title">
            <span class="icon">üí°</span>
            ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡πÜ
          </div>
          <ul class="text-sm" style="color:#4b5563; margin-top:8px; padding-left:18px;">
            <li>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL API ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏•‡∏¥‡∏á‡∏Å‡πå Web App ‡∏à‡∏≤‡∏Å Apps Script (‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏Ç‡∏ß‡∏≤)</li>
            <li>‡∏Å‡∏î "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠" ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô (‡∏£‡∏π‡∏õ‡πÑ‡∏•‡∏ô‡πå, ‡∏£‡∏π‡∏õ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£‡∏õ‡∏¥‡∏î ‡∏Ø‡∏•‡∏Ø)</li>
            <li>‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ç‡∏≠‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (GPS) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</li>
            <li>‡∏´‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡πÄ‡∏ß‡∏•‡∏≤ 4 ‡∏ä‡πà‡∏ß‡∏á</li>
            <li>‡∏Å‡∏î "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ß‡πâ‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á</li>
          </ul>
        </div>
      </div>

    </div>
  </main>
</div>

<!-- MODAL: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL -->
<div class="modal-backdrop" id="modalUrl">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL ‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö</div>
      <button class="modal-close" data-close-modal="modalUrl">&times;</button>
    </div>
    <div class="form-group">
      <div class="form-label">URL ‡∏à‡∏≤‡∏Å Apps Script Web App</div>
      <input type="text" id="inputApiUrl" class="input" placeholder="‡πÄ‡∏ä‡πà‡∏ô https://script.google.com/macros/s/XXXXX/exec" />
      <div class="helper">
        ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å URL ‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π <strong>Deploy &gt; Test deployments &gt; Web App</strong> ‡πÉ‡∏ô Apps Script ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏≤‡∏á‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
      </div>
    </div>
    <div id="urlError" class="error-text" style="display:none;"></div>
    <div class="modal-actions">
      <button class="btn btn-secondary" data-close-modal="modalUrl">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      <button class="btn btn-primary" id="btnSaveUrl">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    </div>
  </div>
</div>

<!-- MODAL: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠ -->
<div class="modal-backdrop" id="modalManual">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠</div>
      <button class="modal-close" data-close-modal="modalManual">&times;</button>
    </div>
    <div class="form-group">
      <div class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</div>
      <input type="text" id="manualCode" class="input" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1011" />
      <div id="manualEmpInfo" class="helper">‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• / ‡πÅ‡∏ú‡∏ô‡∏Å / ‡∏£‡∏∞‡∏î‡∏±‡∏ö</div>
    </div>

    <div class="form-group">
      <div class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)</div>
      <select id="manualType" class="input">
        <option value="AUTO">‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</option>
        <option value="MORNING_IN">‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ä‡πâ‡∏≤</option>
        <option value="NOON_OUT">‡∏≠‡∏≠‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á</option>
        <option value="NOON_IN">‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á</option>
        <option value="EVENING_OUT">‡∏≠‡∏≠‡∏Å‡πÄ‡∏¢‡πá‡∏ô</option>
        <option value="EXTRA">‡∏≠‡∏∑‡πà‡∏ô ‡πÜ / ‡∏û‡∏¥‡πÄ‡∏®‡∏©</option>
      </select>
      <div class="helper">
        ‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ä‡πà‡∏≠‡∏á t1‚Äìt4, tExtra1‚ÄìtExtra2 ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏î‡∏µ ‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡πÄ‡∏â‡∏¢ ‡πÜ (‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î)
      </div>
    </div>

    <div class="form-group">
      <div class="form-label">‡∏£‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô (‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏π‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠, ‡∏£‡∏π‡∏õ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£‡∏õ‡∏¥‡∏î ‡∏Ø‡∏•‡∏Ø)</div>
      <input type="file" id="manualFile" accept="image/*" />
      <div class="helper">
        ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ ‡∏†‡∏≤‡∏û‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Drive ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Apps Script
      </div>
    </div>

    <div class="form-group">
      <div class="form-label">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</div>
      <textarea id="manualResult" readonly placeholder="‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà"></textarea>
    </div>

    <div id="manualError" class="error-text" style="display:none;"></div>
    <div id="manualSuccess" class="success-text" style="display:none;"></div>

    <div class="modal-actions">
      <button class="btn btn-secondary" data-close-modal="modalManual">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      <button class="btn btn-primary" id="btnManualSubmit">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    </div>
  </div>
</div>

<!-- MODAL: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ -->
<div class="modal-backdrop" id="modalCheckToday">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
      <button class="modal-close" data-close-modal="modalCheckToday">&times;</button>
    </div>
    <div class="form-group">
      <div class="form-label">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</div>
      <input type="text" id="checkCode" class="input" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1011" />
    </div>
    <div class="form-group">
      <div class="form-label">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</div>
      <textarea id="checkResult" readonly placeholder="‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á 4 ‡∏ä‡πà‡∏ß‡∏á‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"></textarea>
    </div>
    <div id="checkError" class="error-text" style="display:none;"></div>
    <div class="modal-actions">
      <button class="btn btn-secondary" data-close-modal="modalCheckToday">‡∏õ‡∏¥‡∏î</button>
      <button class="btn btn-primary" id="btnCheckTodaySubmit">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</button>
    </div>
  </div>
</div>

<script>
  /**************************************************
   * CONFIG & STORAGE
   **************************************************/
  const STORAGE_KEY = 'attendance_api_url_v2';

  function getApiUrl() {
    return localStorage.getItem(STORAGE_KEY) || '';
  }

  function setApiUrl(url) {
    if (url) {
      localStorage.setItem(STORAGE_KEY, url);
    } else {
      localStorage.removeItem(STORAGE_KEY);
    }
  }

  /**************************************************
   * API CALL HELPER
   **************************************************/
  const api = {
    async call(action, params = {}) {
      const apiUrl = getApiUrl();
      if (!apiUrl) {
        throw new Error('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL API');
      }

      const body = new URLSearchParams({ action, ...params }).toString();

      const res = await fetch(apiUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'
        },
        body
      });

      const text = await res.text();
      let data;

      try {
        data = JSON.parse(text);
      } catch (e) {
        console.error('API response is not JSON:', text);
        throw new Error('API ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà JSON (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL ‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏ß exec ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà)');
      }

      if (!data.ok) {
        throw new Error(data.error || '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå');
      }
      return data.result;
    }
  };

  /**************************************************
   * GLOBAL STATE
   **************************************************/
  let employeesCache = [];

  /**************************************************
   * DOM UTIL
   **************************************************/
  function $(id) {
    return document.getElementById(id);
  }

  function showModal(id) {
    const el = $(id);
    if (el) el.classList.add('show');
  }

  function hideModal(id) {
    const el = $(id);
    if (el) el.classList.remove('show');
  }

  function setConnectionStatus(online, msg) {
    const badge = $('connectionBadge');
    const text  = $('connectionText');
    if (!badge || !text) return;

    if (online) {
      badge.classList.remove('offline');
      text.textContent = msg || '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à';
    } else {
      badge.classList.add('offline');
      text.textContent = msg || '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠';
    }
  }

  function statusBadgeHtml(status) {
    if (!status) return '<span class="badge-status badge-absent">‡∏Ç‡∏≤‡∏î</span>';

    let cls = 'badge-other';
    if (status === '‡∏õ‡∏Å‡∏ï‡∏¥') cls = 'badge-normal';
    else if (status.includes('‡∏™‡∏≤‡∏¢')) cls = 'badge-late';
    else if (status === '‡∏Ç‡∏≤‡∏î') cls = 'badge-absent';

    return '<span class="badge-status ' + cls + '">' + status + '</span>';
  }

  /**************************************************
   * FILE ‚Üí BASE64
   **************************************************/
  function fileToBase64(file) {
    return new Promise((resolve, reject) => {
      if (!file) return resolve(null);
      const reader = new FileReader();
      reader.onload = () => resolve(reader.result);
      reader.onerror = () => reject(reader.error || new Error('‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'));
      reader.readAsDataURL(file);
    });
  }

  /**************************************************
   * GEOLOCATION (GPS)
   **************************************************/
  function getCurrentPositionPromise(options = {}) {
    return new Promise((resolve, reject) => {
      if (!('geolocation' in navigator)) {
        reject(new Error('‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á (GPS) ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Chrome / Edge'));
        return;
      }
      navigator.geolocation.getCurrentPosition(
        pos => resolve(pos),
        err => {
          let msg = '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î GPS ‡πÑ‡∏î‡πâ';
          if (err.code === err.PERMISSION_DENIED) {
            msg = '‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Location ‡πÅ‡∏•‡∏∞‡∏Å‡∏î "‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï" ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå';
          } else if (err.code === err.POSITION_UNAVAILABLE) {
            msg = '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≠‡∏Å‡∏ô‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£';
          } else if (err.code === err.TIMEOUT) {
            msg = '‡∏î‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á';
          }
          reject(new Error(msg));
        },
        options
      );
    });
  }

  /**************************************************
   * LOAD INITIAL DATA
   **************************************************/
  async function init() {
    // ‡πÅ‡∏™‡∏î‡∏á URL ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ
    const apiUrl = getApiUrl();
    $('apiUrlDisplay').textContent = apiUrl ? 'API: ' + apiUrl : '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL';

    if (!apiUrl) {
      setConnectionStatus(false, '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL');
      return;
    }

    try {
      const result = await api.call('getInitialData');
      employeesCache = result.employees || [];
      setConnectionStatus(true, '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
      loadTodaySummaryFromResult(result.todaySummary);
    } catch (err) {
      console.error(err);
      setConnectionStatus(false, err.message);
    }
  }

  function loadTodaySummaryFromResult(summary) {
    const tbody = $('todaySummaryBody');
    if (!tbody) return;

    const rows = Array.isArray(summary) ? summary : [];

    if (!rows.length) {
      tbody.innerHTML = '<tr><td colspan="9" style="text-align:center; padding:12px 8px;" class="text-muted">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</td></tr>';
      return;
    }

    tbody.innerHTML = rows.map(row => {
      return `
        <tr>
          <td>${row.code || ''}</td>
          <td>${row.fullName || ''}</td>
          <td>${row.branch || ''}</td>
          <td>${row.level || ''}</td>
          <td>${row.t1 || ''}</td>
          <td>${row.t2 || ''}</td>
          <td>${row.t3 || ''}</td>
          <td>${row.t4 || ''}</td>
          <td>${statusBadgeHtml(row.status || '')}</td>
        </tr>
      `;
    }).join('');
  }

  async function loadTodaySummary() {
    try {
      const result = await api.call('getTodaySummary');
      loadTodaySummaryFromResult(result);
    } catch (err) {
      alert('‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ' + err.message);
    }
  }

  /**************************************************
   * MANUAL MODAL LOGIC
   **************************************************/
  function findEmployeeByCode(code) {
    return employeesCache.find(e => String(e.code) === String(code));
  }

  function updateManualEmpInfo() {
    const code = $('manualCode').value.trim();
    const infoEl = $('manualEmpInfo');
    if (!code) {
      infoEl.textContent = '‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• / ‡πÅ‡∏ú‡∏ô‡∏Å / ‡∏£‡∏∞‡∏î‡∏±‡∏ö';
      return;
    }
    const emp = findEmployeeByCode(code);
    if (!emp) {
      infoEl.textContent = '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ï Employees';
    } else {
      infoEl.textContent = `${emp.fullName || ''} | ‡πÅ‡∏ú‡∏ô‡∏Å: ${emp.branch || '-'} | ‡∏£‡∏∞‡∏î‡∏±‡∏ö: ${emp.level || '-'}`;
    }
  }

  async function submitManual() {
    const code   = $('manualCode').value.trim();
    const type   = $('manualType').value;
    const fileEl = $('manualFile');
    const resultEl = $('manualResult');
    const errEl = $('manualError');
    const sucEl = $('manualSuccess');
    const submitBtn = $('btnManualSubmit');

    errEl.style.display = 'none';
    sucEl.style.display = 'none';
    resultEl.value = '';

    if (!code) {
      errEl.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô';
      errEl.style.display = 'block';
      return;
    }

    submitBtn.disabled = true;
    submitBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';
    resultEl.value = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î GPS ‡∏à‡∏≤‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå...';

    try {
      // 1) ‡∏Ç‡∏≠‡∏û‡∏¥‡∏Å‡∏±‡∏î GPS ‡∏Å‡πà‡∏≠‡∏ô
      const position = await getCurrentPositionPromise({
        enableHighAccuracy: true,
        timeout: 10000,
        maximumAge: 0
      });
      const { latitude, longitude } = position.coords;

      // 2) ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ü‡∏•‡πå
      const file = fileEl.files[0];
      const base64 = await fileToBase64(file);

      // 3) Payload ‡∏™‡πà‡∏á‡πÑ‡∏õ Apps Script (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏°‡∏µ lat/lng)
      const payload = {
        code,
        lat: latitude,
        lng: longitude,
        manualType: type
      };
      if (base64) {
        payload.evidenceBase64 = base64;
        payload.evidenceName   = file ? file.name : ('evidence-' + code + '.png');
      }

      const res = await api.call('saveManualLog', payload);

      // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô textarea
      const lines = [];
      lines.push(`‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ‡πÄ‡∏ß‡∏•‡∏≤ ${res.time} (${res.slot})`);
      if (res.employee) {
        lines.push(`‡∏£‡∏´‡∏±‡∏™: ${res.employee.code}`);
        lines.push(`‡∏ä‡∏∑‡πà‡∏≠: ${res.employee.fullName || ''}`);
        lines.push(`‡πÅ‡∏ú‡∏ô‡∏Å: ${res.employee.branch || ''}`);
        lines.push(`‡∏£‡∏∞‡∏î‡∏±‡∏ö: ${res.employee.level || ''}`);
      }
      lines.push(`‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ${res.status || ''}`);

      if (res.location) {
        const loc = res.location;
        if (loc.locationText) {
          lines.push(`‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: ${loc.locationText}`);
        }
        if (loc.lat && loc.lng) {
          lines.push(`‡∏û‡∏¥‡∏Å‡∏±‡∏î: ${loc.lat}, ${loc.lng}`);
          lines.push(`‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà: https://www.google.com/maps?q=${loc.lat},${loc.lng}`);
        }
      }

      if (res.locationZone) {
        if (res.locationZone === 'IN') {
          lines.push(`‡πÇ‡∏ã‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó`);
        } else if (res.locationZone === 'OUT') {
          lines.push(`‡πÇ‡∏ã‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡∏ô‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó (‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)`);
        }
      }

      if (res.evidenceUrl) {
        lines.push(`‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô: ${res.evidenceUrl}`);
      }
      resultEl.value = lines.join('\n');

      sucEl.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß';
      sucEl.style.display = 'block';

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏•‡πà‡∏≠‡∏á "‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î"
      updateLatestFromManual(res);

      // ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡∏°‡πà
      loadTodaySummary();

      // ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 2 ‡∏ß‡∏¥ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏ö‡∏™‡∏ô
      setTimeout(() => {
        hideModal('modalManual');
      }, 2000);

    } catch (err) {
      console.error(err);
      errEl.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ' + err.message;
      errEl.style.display = 'block';
      resultEl.value = '';
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å';
    }
  }

  function updateLatestFromManual(res) {
    const box = $('latestContent');
    if (!box) return;
    const emp = res.employee || {};
    const statusHtml = statusBadgeHtml(res.status || '');
    const loc = res.location || {};
    let zoneText = '';
    if (res.locationZone === 'IN') zoneText = ' (‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó)';
    else if (res.locationZone === 'OUT') zoneText = ' (‡∏ô‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó - ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)';

    let locationHtml = '';
    if (loc.lat && loc.lng) {
      const mapUrl = 'https://www.google.com/maps?q=' + encodeURIComponent(loc.lat + ',' + loc.lng);
      const locText = loc.locationText ? loc.locationText + '<br>' : '';
      locationHtml = `
        <div class="latest-row mt-8">
          <span class="label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</span>
          <span>${locText}<a href="${mapUrl}" target="_blank">‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà (Google Maps)</a>${zoneText}</span>
        </div>`;
    }

    box.innerHTML = `
      <div class="latest-row">
        <span class="label">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</span>
        <span>${emp.code || ''} - ${emp.fullName || ''}</span>
      </div>
      <div class="latest-row mt-8">
        <span class="label">‡πÄ‡∏ß‡∏•‡∏≤</span>
        <span>${res.time || ''} (‡∏•‡∏á‡∏ä‡πà‡∏≠‡∏á ${res.slot || '-'})</span>
      </div>
      <div class="latest-row mt-8">
        <span class="label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
        <span>${statusHtml}</span>
      </div>
      ${locationHtml}
      ${res.evidenceUrl ? `
      <div class="latest-row mt-8">
        <span class="label">‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô</span>
        <span><a href="${res.evidenceUrl}" target="_blank">‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô</a></span>
      </div>` : ''}
    `;
  }

  /**************************************************
   * CHECK TODAY MODAL LOGIC
   **************************************************/
  async function submitCheckToday() {
    const code = $('checkCode').value.trim();
    const resultEl = $('checkResult');
    const errEl = $('checkError');

    errEl.style.display = 'none';
    resultEl.value = '';

    if (!code) {
      errEl.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô';
      errEl.style.display = 'block';
      return;
    }

    try {
      const res = await api.call('checkTodayByCode', { code });
      if (!res.found) {
        resultEl.value = res.message || '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤';
        return;
      }

      const emp = res.employee || {};
      const log = res.log || {};
      const lines = [];
      lines.push(`‡∏£‡∏´‡∏±‡∏™: ${emp.code || ''}`);
      lines.push(`‡∏ä‡∏∑‡πà‡∏≠: ${emp.fullName || ''}`);
      lines.push(`‡πÅ‡∏ú‡∏ô‡∏Å: ${emp.branch || ''}`);
      lines.push(`‡∏£‡∏∞‡∏î‡∏±‡∏ö: ${emp.level || ''}`);
      lines.push('-----------------------------');
      lines.push(`‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ä‡πâ‡∏≤ (t1): ${log.t1 || '-'}`);
      lines.push(`‡∏≠‡∏≠‡∏Å‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á (t2): ${log.t2 || '-'}`);
      lines.push(`‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á (t3): ${log.t3 || '-'}`);
      lines.push(`‡∏≠‡∏≠‡∏Å‡πÄ‡∏¢‡πá‡∏ô (t4): ${log.t4 || '-'}`);
      lines.push(`Extra1: ${log.tExtra1 || '-'}`);
      lines.push(`Extra2: ${log.tExtra2 || '-'}`);
      lines.push('-----------------------------');
      lines.push(`‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: ${log.status || '-'}`);
      if (log.evidenceUrl) {
        lines.push(`‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô: ${log.evidenceUrl}`);
      }

      if (log.locationText || (log.lat && log.lng)) {
        lines.push('-----------------------------');
        if (log.locationText) {
          lines.push(`‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: ${log.locationText}`);
        }
        if (log.lat && log.lng) {
          lines.push(`‡∏û‡∏¥‡∏Å‡∏±‡∏î: ${log.lat}, ${log.lng}`);
          lines.push(`‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà: https://www.google.com/maps?q=${log.lat},${log.lng}`);
        }
      }

      resultEl.value = lines.join('\n');

    } catch (err) {
      console.error(err);
      errEl.textContent = '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ' + err.message;
      errEl.style.display = 'block';
    }
  }

  /**************************************************
   * URL MODAL LOGIC
   **************************************************/
  function openUrlModal() {
    $('inputApiUrl').value = getApiUrl();
    $('urlError').style.display = 'none';
    showModal('modalUrl');
  }

  function saveUrl() {
    const url = $('inputApiUrl').value.trim();
    const errEl = $('urlError');
    errEl.style.display = 'none';

    if (!url) {
      errEl.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å URL';
      errEl.style.display = 'block';
      return;
    }

    if (!/^https:\/\/script\.google\.com\/macros\/s\//.test(url)) {
      if (!confirm('URL ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Web App ‡∏Ç‡∏≠‡∏á Apps Script ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ URL ‡∏ô‡∏µ‡πâ?')) {
        return;
      }
    }

    setApiUrl(url);
    $('apiUrlDisplay').textContent = 'API: ' + url;
    hideModal('modalUrl');
    init();
  }

  function resetUrl() {
    if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö URL ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÑ‡∏ß‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
      setApiUrl('');
      $('apiUrlDisplay').textContent = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL';
      setConnectionStatus(false, '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL');
    }
  }

  /**************************************************
   * EVENT BINDING
   **************************************************/
  document.addEventListener('DOMContentLoaded', () => {
    // modal close button
    document.querySelectorAll('[data-close-modal]').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('data-close-modal');
        hideModal(id);
      });
    });

    // backdrop click (‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î)
    document.querySelectorAll('.modal-backdrop').forEach(backdrop => {
      backdrop.addEventListener('click', e => {
        if (e.target === backdrop) {
          backdrop.classList.remove('show');
        }
      });
    });

    // buttons
    $('btnSetUrl').addEventListener('click', openUrlModal);
    $('btnSaveUrl').addEventListener('click', saveUrl);
    $('btnResetUrl').addEventListener('click', resetUrl);
    $('btnGoAdmin').addEventListener('click', () => {
      window.location.href = 'admin.html';
    });

    $('btnOpenManualModal').addEventListener('click', () => {
      $('manualCode').value = '';
      $('manualFile').value = '';
      $('manualType').value = 'AUTO';
      $('manualResult').value = '';
      $('manualError').style.display = 'none';
      $('manualSuccess').style.display = 'none';
      $('manualEmpInfo').textContent = '‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏• / ‡πÅ‡∏ú‡∏ô‡∏Å / ‡∏£‡∏∞‡∏î‡∏±‡∏ö';
      showModal('modalManual');
    });

    $('manualCode').addEventListener('input', updateManualEmpInfo);
    $('btnManualSubmit').addEventListener('click', submitManual);

    $('btnOpenCheckToday').addEventListener('click', () => {
      $('checkCode').value = '';
      $('checkResult').value = '';
      $('checkError').style.display = 'none';
      showModal('modalCheckToday');
    });
    $('btnCheckTodaySubmit').addEventListener('click', submitCheckToday);

    $('btnRefreshToday').addEventListener('click', loadTodaySummary);

    // ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£ (disabled ‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô)
    $('btnStartScan').addEventListener('click', () => {
      alert('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡πÅ‡∏Å‡∏ô‡πÉ‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ');
    });

    init();
  });
</script>
</body>
</html>
